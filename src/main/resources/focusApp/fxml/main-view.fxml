<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.MenuButton?>
<?import javafx.scene.control.MenuItem?>
<?import javafx.scene.control.Slider?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Pane?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.RowConstraints?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>

<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.control.PasswordField?>
<?import javafx.scene.control.ToggleButton?>
<?import javafx.collections.FXCollections?>
<?import com.sun.javafx.charts.Legend?>
<?import java.lang.String?>
<?import javafx.scene.control.skin.ColorPalette.ColorSquare?>
<?import javafx.scene.shape.Rectangle?>
<AnchorPane maxHeight="-Infinity"
            maxWidth="-Infinity"
            minHeight="-Infinity"
            minWidth="-Infinity"
            prefHeight="600.0"
            prefWidth="390.0"
            xmlns="http://javafx.com/javafx/21"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="focusApp.controllers.MainController">

   <!-- NAV BAR -->
   <HBox alignment="CENTER"
         prefHeight="75.0"
         prefWidth="390.0"
         spacing="5.0"
         styleClass="navBox">

      <!-- Should open side menu -->
       <Pane minHeight="75.0">
           <VBox layoutY="17">
               <Button onAction="#toggleMenu"
                       styleClass="navButton">
                   <graphic>
                       <ImageView fitHeight="40.0"
                                  fitWidth="40.0"
                                  pickOnBounds="true"
                                  preserveRatio="true">
                           <Image url="@../images/menuIcon.png" />
                       </ImageView>
                   </graphic>
               </Button>
           </VBox>
       </Pane>

      <Region HBox.hgrow="ALWAYS" />

      <!-- Page Title -->
      <Label styleClass="navLabel"
             text="Focus Period"
             textAlignment="CENTER" />

      <Region HBox.hgrow="ALWAYS" />

      <!--        get rid of account thingy-->
      <!-- To Account Page -->
      <Button fx:id="accountButton"
              onAction="#onAccountButtonClick"
              styleClass="navButton">
         <graphic>
            <ImageView fitHeight="40.0"
                       fitWidth="40.0"
                       pickOnBounds="true"
                       preserveRatio="true">
               <Image url="@../images/userIcon.png" />
            </ImageView>
         </graphic>
      </Button>
   </HBox>


   <VBox alignment="CENTER" layoutX="55.0" layoutY="96.0" prefHeight="477.0" prefWidth="280.0">

      <!-- Select Present and save button -->
      <HBox alignment="CENTER" prefHeight="58.0" prefWidth="280.0" spacing="50.0">

<!-- Select Preset Drop down-->
          <ComboBox fx:id="presetsButton" styleClass="defaultButton" onAction="#onPresetsButtonClick">

          </ComboBox>

<!--         Save Button-->
         <Button fx:id="addPresetButton" onAction="#onAddPresetClick" mnemonicParsing="false" styleClass="smallDefaultButton" text="+ preset" />
      </HBox>


       <!--      Blocked Apps -->
       <VBox>
           <Label styleClass="bodyLabel" text="Blocked Applications:">
               <VBox.margin>
                   <Insets top="20.0" />
               </VBox.margin>
           </Label>
       </VBox>

      <Pane fx:id="blockedApplicationPane" onMouseClicked="#onBlockedApplicationsPaneClick" prefHeight="114.0" prefWidth="280.0" styleClass="blockedPane">
          <GridPane fx:id="blockedIcons" prefHeight="114.0" prefWidth="280.0"/>
      </Pane>

      <!-- Timers -->
<!--      Start labels -->
      <HBox alignment="BOTTOM_LEFT" prefHeight="35.0" prefWidth="280.0" spacing="10.0">
         <Label prefHeight="18.0" prefWidth="224.0" styleClass="bodyLabel" text="Start timer:" />

<!--         Get slider time and change label according,
               see login and register page for example -->
         <Label fx:id="startTimeLabel" alignment="CENTER_RIGHT" prefHeight="18.0" prefWidth="210.0" styleClass="bodyLabel" text="Now" textAlignment="RIGHT" />

      </HBox>

<!--      Start timer -->
      <Slider fx:id="startTimeSlider" blockIncrement="15.0" majorTickUnit="60.0" max="180.0" showTickLabels="true" showTickMarks="true" styleClass="timerSlider" />

<!--End labels -->
      <HBox alignment="BOTTOM_LEFT" layoutX="10.0" layoutY="228.0" prefHeight="35.0" prefWidth="280.0" spacing="10.0">

         <Label prefHeight="18.0" prefWidth="223.0" styleClass="bodyLabel" text="End timer:" />

         <!--         Get slider time and change label according,
                        see login and register page for example -->
         <Label fx:id="endTimeLabel" alignment="CENTER_RIGHT" prefHeight="18.0" prefWidth="215.0" styleClass="bodyLabel" text="0 Minutes" textAlignment="RIGHT" />
      </HBox>

<!--      End slider -->
       <Slider fx:id="endTimeSlider" blockIncrement="15.0" majorTickUnit="60.0" max="180.0" showTickLabels="true" showTickMarks="true" styleClass="timerSlider" />

<!--       Start timer -->
       <Label styleClass="bodyLabel" text="Press start to activate focus mode:" textAlignment="CENTER">
           <padding>
               <Insets top="30.0" />
           </padding>
       </Label>
      <HBox alignment="CENTER">
         <Button fx:id="startButton" mnemonicParsing="false" onAction="#onStartButtonClick" styleClass="largePrimaryButton" text="START" textAlignment="CENTER" />
      </HBox>
   </VBox>


    <!-- SIDE MENU -->
    <StackPane fx:id="menuStackPane"
               layoutY="74.9"
               prefHeight="525.0"
               prefWidth="280.0"
               styleClass="menuPane"
               visible="false">
        <VBox>
            <!--Account Information-->
            <Button onAction="#onAccountButtonClick"
                    styleClass="menuButton">
                <graphic>
                    <HBox alignment="CENTER_LEFT">

                        <Region prefWidth="15.0" />

                        <Label prefWidth="30.0"
                               styleClass="navLabel"
                               text="👤"
                               textAlignment="CENTER" />

                        <Region prefWidth="10.0" />

                        <Label styleClass="navLabel"
                               text="Account Information"
                               textAlignment="CENTER" />
                    </HBox>
                </graphic>
            </Button>

            <!--Parental Controls-->
            <VBox>
                <Button fx:id="parentalControlsButton" onAction="#onParentalControlsButtonClick" styleClass="menuButton">
                    <graphic>
                        <HBox alignment="CENTER_LEFT">
                            <Region prefWidth="15.0" />
                            <Label prefWidth="30.0" styleClass="navLabel" text="👨‍👩‍👦" textAlignment="CENTER" />
                            <Region prefWidth="10.0" />
                            <Label styleClass="navLabel" text="Parental Controls" textAlignment="CENTER" />
                        </HBox>
                    </graphic>
                </Button>

                <VBox fx:id="parentalControlsSection"
                      visible="false"
                      managed="false">
                    <HBox>
                        <Region prefWidth="55.0"/>

                        <VBox>
                            <HBox>
<!--                                Needs to be made switch toggle, css -->
                                <Label styleClass="settingLabel"
                                       text="Toggle"
                                       wrapText="true"/>
                                <Region HBox.hgrow="ALWAYS"/>
                                <ToggleButton text="yea" styleClass="tinyPrimaryButton"/>

                            </HBox>

                            <Region prefHeight="10.0"/>

                            <VBox>
                                <Label maxWidth="210.0" styleClass="settingLabel" text="Enter passcode to disable parental controls" wrapText="true"/>
                                <PasswordField fx:id="parentalControlPasswordField"
                                               maxWidth="210.0"
                                               styleClass="textBox"
                                               promptText="Password"/>
                            </VBox>

                        </VBox>

                        <Region prefWidth="15.0" />
                    </HBox>
                    <Region prefHeight="10.0"/>
                </VBox>
            </VBox>


           <VBox>
               <!--Colour Settings-->
               <Button fx:id="colourSettingsButton" onAction="#onColourSettingsButtonClick" styleClass="menuButton">
                   <graphic>
                       <HBox alignment="CENTER_LEFT">
                           <Region prefWidth="15.0" />
                           <Label prefWidth="30.0" styleClass="navLabel" text="🎨" textAlignment="CENTER" />
                           <Region prefWidth="10.0" />
                           <Label styleClass="navLabel" text="Colour Settings" textAlignment="CENTER" />
                       </HBox>
                   </graphic>
               </Button>

               <!-- Drop down colour settings -->
               <VBox fx:id="colourSettingsSection"
                     visible="false"
                     managed="false">
                   <HBox>
                       <Region prefWidth="55.0"/>

                       <VBox>
                           <Label styleClass="settingLabel" text="Current palette:"/>
                           <ComboBox fx:id="colourOptionsButton"
                                     styleClass="defaultButton"
                                     minWidth="210.0">
                               <items>
                                   <FXCollections fx:factory="observableArrayList">
                                       <HBox fx:id="defaultPalette">
                                           <HBox maxWidth="60.0" maxHeight="20.0" style="-fx-border-color: #000000">
                                               <Rectangle width="20" height="20" fill="#4382BF"/>
                                               <Rectangle width="20" height="20" fill="#59ADFF"/>
                                               <Rectangle width="20" height="20" fill="#E6F9FF"/>
                                           </HBox>
                                           <Region prefWidth="10.0"/>
                                           <Label text="Default" />
                                       </HBox>
                                       <HBox fx:id="greyScalePalette">
                                           <HBox maxWidth="60.0" maxHeight="20.0" style="-fx-border-color: #000000">
                                               <Rectangle width="20" height="20" fill="#202020" />
                                               <Rectangle width="20" height="20" fill="#808080" />
                                               <Rectangle width="20" height="20" fill="#F8F8F8" />
                                           </HBox>
                                           <Region prefWidth="10.0"/>
                                           <Label text="Grey Scale" />
                                       </HBox>
                                       <HBox fx:id="redPalette">
                                           <HBox maxWidth="60.0" maxHeight="20.0" style="-fx-border-color: #000000">
                                               <Rectangle width="20" height="20" fill="#BF4343" />
                                               <Rectangle width="20" height="20" fill="#FF5959" />
                                               <Rectangle width="20" height="20" fill="#FFE6E6" />
                                           </HBox>
                                           <Region prefWidth="10.0"/>
                                           <Label text="Red" />
                                       </HBox>
                                   </FXCollections>
                               </items>
                           </ComboBox>
                           <Region prefWidth="15.0"/>
                       </VBox>
                   </HBox>

                   <Region prefHeight="10.0"/>
               </VBox>
           </VBox>


            <VBox>
                <!--Sound Settings-->
                <Button fx:id="soundSettingsButton" onAction="#onSoundSettingsButtonClick" styleClass="menuButton">
                    <graphic>
                        <HBox alignment="CENTER_LEFT">
                            <Region prefWidth="15.0" />
                            <Label prefWidth="30.0" styleClass="navLabel" text="🔊" textAlignment="CENTER" />
                            <Region prefWidth="10.0" />
                            <Label styleClass="navLabel" text="Sound Settings" textAlignment="CENTER" />
                        </HBox>
                    </graphic>
                </Button>

                <!-- Drop down sound settings -->
                <VBox fx:id="soundSettingsSection"
                      managed="false"
                      visible="false">
                    <HBox>
                        <Region prefWidth="55.0"/>
                        <VBox>
                            <Label styleClass="settingLabel" text="Alarm sound"/>

                            <ComboBox fx:id="soundOptionsButton"
                                    styleClass="defaultButton"
                                      minWidth="210.0">
                                <items>
                                    <FXCollections fx:factory="observableArrayList">
                                        <String fx:value="Default"/>
                                        <String fx:value="Audio 2"/>
                                    </FXCollections>
                                </items>
                            </ComboBox>
                            <Region prefHeight="10.0"/>


                            <Label styleClass="settingLabel" text="Volume"/>
                            <Slider fx:id="volumeSlider"
                                    majorTickUnit="50.0"
                                    prefWidth="210.0"
                                    styleClass="timerSlider" />

                        </VBox>


                        <Region prefWidth="15.0"/>
                    </HBox>
                    <Region prefHeight="10.0"/>
                </VBox>
            </VBox>

        </VBox>
    </StackPane>
</AnchorPane>
